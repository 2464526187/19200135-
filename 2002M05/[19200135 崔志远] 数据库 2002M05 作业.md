**报告标题**：关系模型
**学号**：19200135
**姓名**：崔志远
**日期**：2022-10-21

# 一、关系模型

## 1、关系模型的概念
形象的说，一个关系就是一个Table，而关系模型就是来处理Table的。它描述了DB各种数据基本结构形式，描述了表与表之间的运算，描述了这种运算所遵循的条件约束（完整性约束）。

## 2.关系模型的三个要素
1.基本结构：realation/Table
2.基本操作：relation operator 包括：并，差，选择，投影，广义积。
3.完整性约束：实体完整性，参照完整性，用户自定义完整性。

## 3.关系的完整性约束有哪些
**1、实体完整性**
        实体完整性要求每个数据表都必须有主键，而作为主键的所有字段，其属性必须是独一及非空值。
       实体完整性要保证关系中的每个元组都是可识别的和惟一的，指关系数据库中所有的表都必须有主键，
        而且表中不允许存在无主键值的记录和主键值相同的记录。因为实体必须可区分。
        实际上，当在表中定义了主键时，数据库管理系统会自动保证数据的实体完整性，即保证不允许存在主键值为空的记录以及主键值重复的记录。
**2、参照完整性**
        参照完整性也称为引用完整性。参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。
        现实世界中的实体之间往往存在着某种联系，在关系模型中，实体以及实体之间的联系都是用关系来表示的，这样就自然存在着关系与关系之间的引用。
        而参照完整性就是描述实体之间的联系的。参照完整性一般是指多个实体或关系之间的关联关系。
        例如，若基本关系 R 的外键为 F，它与基本关系 S 的主键 K 相对应（基本关系 R 和 S 不一定是不同的关系），则对于 R 中的每个元组在 F 上的值必须为：
     （1）空值，F 的每个属性值均为空值。
     （2）S 中某个元组中的主键值。
       即参照的关系中的属性值必须能够在被参照关系找到或者取空值，否则不符合数据库的语义。
       在实际操作时如更新、删除、插入一个表中的数据，通过参照引用相互关联的另一个表中的数据，来检查对表的数据操作是否正确，不正确则拒绝操作。


**3、用户定义完整性**
        用户定义完整性也成为域完整性或语义完整性。用户自定义完整性是针对某一具体关系数据库的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求。
        实际上就是指明关系中属性的取值范围，防止属性的值与应用语义矛盾。
        关系模型应提供定义和检验这类完整性的机制，以便用统一的系统方法处理它们，而不要由应用程序承担这一功能
        主要包括非空约束、唯一约束、检查约束、主键约束、外键约束。

## 4、试述SQL语言的特点
**1. 综合统一**
数据库系统的主要功是通过数据库支持的数据语言来实现。
非关系模型（层次模型、网状模型）的数据语言一般都分为：
模式数据定义语言（Schema Data Definition Language，模式DDL）；
外模式数据定义语言（Schema Data Definition Language，外模式DDL,子模式DDL）；
数据存储有关的描述语言（Data Storage Description Language，DSDL）；
数据操纵语言（Data Manipulation Language，DML）。  它们分别用于定义模式、外模式、内模式和进行数据的存取与处置。当用户数据库投入运行后，如果需要修改模式，必须停止现有数据库的运行，转储数据，修改模式并编译后再重装数据库，十分麻烦。 
SQL则集数据定义语言DDL、数据操纵DML、数据控制语言DCL的功能于一体，语言风格统一，可以以独立完成数据库生命周期中的全部活动，包括：
定义关系模式，插入数据，建立数据库；
对数据库中的数据进行查询和更新；
数据库重构和维护；
数据库安全性、完整性控制； 等一系列操作要求。     
这就为数据库应用系统的开发提供了良好的环境。特别是用户在数据库系统投入运行后，还可根据需要随时地逐步地修改模式，并不影响数据库的运行，从而使系统具有良好的可扩展性。     
另外，在关系模型中实体和实体之间的联系用关系表示，这种数据结构的单一性带来了数据操作符的统一性，查找、插入、删除、更新等每一种操作都只需一种操作符，从而克服了非关系系统由于信息表示方式的多样性带来的操作复杂性。
**2. 高度非过程化**
非关系数据模型的数据操纵语言是“面向过程”的语言，用“过程化”语言完成某项请求，必须指定存取路径。而用SQL进行数据操作，只要提出“做什么”，而无须指明“怎么做”，因此无需了解存取路径。存取路径的选择以及SQL的操作过程由系统自动完成。这不但大大减轻了用户负担，而且有利于提高数据独立性。
**3. 面向集合的操作方式**
费关系数据模型采用的是面向记录的操作方式，操作对象是一条记录。而SQL采用集合操作方式，不仅操作对象、查找结果可以是元组的集合，而且一次插入、删除、更新操作的对象也可以是元组的集合。
**4. 以同一种语法结构提供多种使用方式**
SQL既是独立的语言，又是嵌入式语言。 作为独立的语言，它能够独立地用于联机交互的使用方式，用户可以在终端键盘上直接键入SQL命令对数据库进行操作；作为嵌入式语言，SQL语句能够嵌入到高级语言程序中，供程序员设计程序时使用。而在两种不同的使用方式下，SQL的语法结构基本上是一致的。这种以统一的语法结构提供多种不同使用方式的做法，提供了极大的灵活性与方便性。

**5. 语言简洁，易学易用**

SQL功能极强，但由于设计巧妙，语言十分简洁，完成核心功能只有9个动词，如表所示。SQL接近英语口语，因此容易学习，容易使用。

## 5.基本关系有哪些性质
 1、列是同质的
 2、不同的列属性必须有不同的属性名
 3、列的次序无所谓，可以任意交换
 4、任意两个元组不能完全相同
 5、行的次序无所谓，可以任意交换
 6、不允许“表中套表”，即分量必须取原子值，每一个分量必须是不可分的数据项

## 6.什么是等值连接？什么是自然连接？
1、自然连接(Naturaljoin)是一种特殊的等值连接，它要求两个关系中进行比较的分量必须是相同的属性组，并且在结果中把重复的属性列去掉。而等值连接并不去掉重复的属性列。
2、自然连接：在连接条件中使用等于(=)运算符比较被连接列的列值，但它使用选择列表指出查询结果集合中所包括的列，并删除连接表中的重复列。
3、自然连接与等值连接
在连接运算当中，一种最常用的连接是自然连接。
所谓自然连接就是在等值连接的情况下，当连接属性X与Y具有相同属性组时，把在连接结果中重复的属性列去掉。
自然连接是在广义笛卡尔积R×S中选出同名属性上符合相等条件元组，再进行投影，去掉重复的同名属性，组成新的关系。
4、等值连接与自然连接的区别：
（1）等值连接中不要求相等属性值的属性名相同，而自然连接要求相等属性值的属性名必须相同，即两关系只有在同名属性才能进行自然连接。
（2）等值连接不将重复属性去掉，而自然连接去掉重复属性，也可以说，自然连接是去掉重复列的等值连接。
5、事实上，我们一般使用的都是自然连接。
